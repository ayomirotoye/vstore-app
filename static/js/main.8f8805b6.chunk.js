(this["webpackJsonpvstore-app"]=this["webpackJsonpvstore-app"]||[]).push([[0],{102:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(23),s=a.n(r),l=a(64),i=(a(71),a(8)),o=a(2),u=a(13),b=a.n(u),j=a(24),d=a(3),h=(a(73),a(74),a(75),a(18)),O=a(28),p=a(17),m=a(59),x=a(108),f=a(25),v=a.n(f),g=a(1);var y,N=function(e){var t,a=e.show,c=e.handle_close,r=e.handle_submit,s=e.is_submitting,l=e.handle_input_change,i=e.get_ben_name,o=e.values,u=Object(n.useState)(Object.assign([])),f=Object(d.a)(u,2),y=(f[0],f[1]),N=Object(n.useState)(!1),C=Object(d.a)(N,2),R=C[0],w=C[1];Object(n.useEffect)((function(){k().then((function(e){e&&e.length>0&&y(e)}))}),[]);var k=function(){var e=Object(j.a)(b.a.mark((function e(){var t,a,n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={},e.prev=1,e.next=4,v.a.get("http://localhost:9100/vstore/tags",{});case 4:return a=e.sent,n=a.data,e.abrupt("return",n);case 9:e.prev=9,e.t0=e.catch(1),console.log("ERROR OCURRED");case 12:return e.abrupt("return",t);case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){w(!0)}),[o.beneficiaryName]),Object(g.jsx)(g.Fragment,{children:Object(g.jsxs)(h.a,{show:a,onHide:c,backdrop:"static",keyboard:!1,children:[Object(g.jsx)(h.a.Header,{closeButton:!0,children:Object(g.jsx)(h.a.Title,{children:"Make payment"})}),Object(g.jsx)(h.a.Body,{children:Object(g.jsx)(p.a,{children:Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(m.a,{controlId:"amount",label:"Amount",className:"mb-3",children:Object(g.jsx)(p.a.Control,{type:"number",min:0,onChange:l})}),Object(g.jsx)(m.a,{controlId:"narration",label:"Narration",className:"mb-3",children:Object(g.jsx)(p.a.Control,{type:"text",placeholder:"narration",onChange:l})}),Object(g.jsx)(m.a,{controlId:"beneficaryAccountNo",label:"Beneficiary account number",className:"mb-3",children:Object(g.jsx)(p.a.Control,{type:"text",placeholder:"",onChange:i})}),R?Object(g.jsx)(m.a,{controlId:"beneficiaryName",label:"Beneficiary account name",className:"mb-3",children:Object(g.jsx)(p.a.Control,{type:"text",placeholder:"",readOnly:!0,value:null!==(t=o.beneficiaryName)&&void 0!==t?t:""})}):[]]})})}),Object(g.jsxs)(h.a.Footer,{children:[Object(g.jsx)(O.a,{variant:"secondary",onClick:c,children:"Close"}),s?Object(g.jsx)(x.a,{animation:"border",role:"status",children:Object(g.jsx)("span",{className:"visually-hidden",children:"Loading..."})}):Object(g.jsx)(O.a,{variant:"primary",onClick:function(){r(o)},children:"Pay"})]})]})})},C=a(42),R=function(e){return null===e||void 0===e||0===e.length},w=(y="parentMenuName",function(e){var t=e;return R(e)||(t=e.length>0?e.charAt(0).toUpperCase()+e.slice(1):e),t}),k=c.a.forwardRef((function(e,t){var a=e.children,n=e.onClick;return Object(g.jsx)("a",{href:"#",ref:t,onClick:function(e){e.preventDefault(),n(e)},children:a})})),S=c.a.forwardRef((function(e,t){var a=e.children,r=e.style,s=e.className,l=e["aria-labelledby"],i=Object(n.useState)(""),o=Object(d.a)(i,2),u=o[0];o[1];return Object(g.jsx)("div",{ref:t,style:r,className:s,"aria-labelledby":l,children:Object(g.jsx)("ul",{className:"list-unstyled",children:c.a.Children.toArray(a).filter((function(e){return!u||e.props.children.toLowerCase().startsWith(u)}))})})})),_=function(){var e=Object(n.useState)(""),t=Object(d.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)(Object.assign([])),s=Object(d.a)(r,2),l=s[0],i=s[1],o=function(){var e=Object(j.a)(b.a.mark((function e(t){var a,n,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(t.target.value),a=[],e.prev=2,e.next=5,v.a.get("http://localhost:9100/vstore".concat("?searchBy=",t.target.value),{});case 5:return n=e.sent,r=n.data,i(r),e.abrupt("return",r);case 11:e.prev=11,e.t0=e.catch(2),console.log("ERROR OCURRED");case 14:return e.abrupt("return",a);case 15:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(t){return e.apply(this,arguments)}}(),u=function(e){console.log("DATAT:::",e)};return Object(g.jsxs)(C.a,{children:[Object(g.jsx)(C.a.Toggle,{as:k,id:"dropdown-custom-components",children:Object(g.jsx)(m.a,{controlId:"searchBy",label:"Search",className:"mb-3",children:Object(g.jsx)(p.a.Control,{type:"text",onChange:o,value:a})})}),Object(g.jsx)(C.a.Menu,{as:S,className:"w-100",children:l&&Array.isArray(l)&&l.map((function(e,t){return Object(g.jsx)(C.a.Item,{eventKey:t,onClick:u,data:e.data,children:Object(g.jsxs)("div",{className:"d-flex",children:[Object(g.jsx)("div",{style:{textAlign:"right"},children:w(e.data.tag.toLowerCase(),0)}),Object(g.jsx)("div",{className:"mx-3",children:"|"}),Object(g.jsx)("div",{children:e.data.narration})]})})}))})]})},I=function(e){var t=e.show,a=e.handle_close,c=e.handle_submit,r=e.is_submitting,s=e.handle_input_change,l=e.values,i=Object(n.useState)(Object.assign([])),o=Object(d.a)(i,2),u=o[0],f=o[1];Object(n.useEffect)((function(){y().then((function(e){e&&e.length>0&&f(e)}))}),[]);var y=function(){var e=Object(j.a)(b.a.mark((function e(){var t,a,n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={},e.prev=1,e.next=4,v.a.get("http://localhost:9100/vstore/categories",{});case 4:return a=e.sent,n=a.data,e.abrupt("return",n);case 9:e.prev=9,e.t0=e.catch(1),console.log("ERROR OCURRED");case 12:return e.abrupt("return",t);case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}();return Object(g.jsxs)(h.a,{show:t,onHide:a,backdrop:"static",keyboard:!1,children:[Object(g.jsx)(h.a.Header,{closeButton:!0,children:Object(g.jsx)(h.a.Title,{children:"Create biller"})}),Object(g.jsx)(h.a.Body,{children:Object(g.jsx)(p.a,{children:Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(m.a,{controlId:"billerName",label:"Name",className:"mb-3",children:Object(g.jsx)(p.a.Control,{type:"text",placeholder:"billerName",onChange:s})}),Object(g.jsx)(m.a,{controlId:"categoryId",label:"Category",className:"mb-3",children:Object(g.jsxs)(p.a.Select,{"aria-label":"categoryId",onChange:s,children:[Object(g.jsx)("option",{children:"-- Choose option --"}),u&&u.map((function(e,t){return Object(g.jsx)("option",{value:e.name,children:e.name},t)}))]})})]})})}),Object(g.jsxs)(h.a.Footer,{children:[Object(g.jsx)(O.a,{variant:"primary",onClick:a,children:"Close"}),r?Object(g.jsx)(x.a,{animation:"border",role:"status",children:Object(g.jsx)("span",{className:"visually-hidden",children:"Loading..."})}):Object(g.jsx)(O.a,{variant:"secondary",onClick:function(){c(l)},children:"Submit"})]})]})};var E=function(){var e=Object(n.useState)(!1),t=Object(d.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)(!1),s=Object(d.a)(r,2),l=s[0],u=s[1],h=Object(n.useState)(!1),O=Object(d.a)(h,2),p=O[0],m=O[1],x=Object(n.useState)(Object.assign({})),f=Object(d.a)(x,2),y=f[0],C=f[1],R=Object(n.useState)(Object.assign({})),w=Object(d.a)(R,2),k=w[0],S=w[1],E=function(){var e=Object(j.a)(b.a.mark((function e(t){var a,n,r,s;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m(!0),e.prev=1,m(!1),a=new Date,n=Object.assign({},{tag:"TRANSACTIONS"},{data:Object.assign({},y,{transactionDate:a.toISOString(),transactionId:a.getTime()})}),e.next=7,v.a.post("http://localhost:9100/vstore/store",[n]);case 7:r=e.sent,(s=r.data)&&s.length>0&&(alert("Successful"),c(!1),C({})),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(1),alert("Failed"),console.log("ERROR OCCURRED:::",e.t0);case 16:return e.prev=16,m(!1),e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[1,12,16,19]])})));return function(t){return e.apply(this,arguments)}}(),D=function(){var e=Object(j.a)(b.a.mark((function e(t){var a,n,c,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m(!0),e.prev=1,m(!1),a=new Date,n=Object.assign({},{tag:"BILLERS"},Object.assign({},k,{transactionDate:a.toISOString(),transactionId:a.getTime()})),e.next=7,v.a.post("http://localhost:9100/vstore/biller",[n]);case 7:c=e.sent,(r=c.data)&&r.length>0&&(alert("Successful"),u(!1),S({})),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(1),alert("Failed"),console.log("ERROR OCCURRED:::",e.t0);case 16:return e.prev=16,m(!1),e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[1,12,16,19]])})));return function(t){return e.apply(this,arguments)}}(),A=function(e){C(Object(o.a)(Object(o.a)({},y),{},Object(i.a)({},e.target.id,e.target.value)))},F=function(){var e=Object(j.a)(b.a.mark((function e(t){var a,n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(A(t),10!==t.target.value.length){e.next=13;break}return e.prev=2,e.next=5,v.a.get("http://localhost:9100/vstore/name-enquiry?accountNo=".concat(t.target.value),{});case 5:a=e.sent,n=a.data,C(Object(o.a)(Object(o.a)({},y),{},{beneficiaryName:n.accountName})),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),console.log("ERROR OCURRED",e.t0);case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}();return Object(g.jsxs)("div",{className:"App",children:[Object(g.jsx)(N,{show:a,handle_close:function(){c(!a)},handle_submit:E,is_submitting:p,handle_input_change:A,get_ben_name:F,values:y}),Object(g.jsx)(I,{show:l,handle_close:function(){u(!l)},handle_submit:D,is_submitting:p,handle_input_change:function(e){S(Object(o.a)(Object(o.a)({},k),{},Object(i.a)({},e.target.id,e.target.value)))},values:k}),Object(g.jsxs)("div",{className:"py-5 my-5 text-center",children:[Object(g.jsx)("h1",{className:"display-5 fw-bold",children:"VStore"}),Object(g.jsxs)("div",{className:"col-lg-6 mx-auto",children:[Object(g.jsx)("p",{className:"lead mb-2",children:"transactions, bills and many more"}),Object(g.jsx)("div",{className:"d-grid gap-2 d-sm-flex justify-content-sm-center",children:Object(g.jsx)("div",{className:"row searchbar-div",children:Object(g.jsx)("div",{className:"col-sm-12",children:Object(g.jsx)(_,{})})})}),Object(g.jsx)("div",{className:"d-grid gap-2 d-sm-flex justify-content-sm-center",children:Object(g.jsxs)("div",{className:"row",children:[Object(g.jsx)("div",{className:"col-sm-12",children:Object(g.jsx)("button",{type:"button",className:"btn btn-secondary btn-lg px-4 mr-3 w-50 h-75 mb-20",onClick:function(){c(!0)},children:"Fund transfer"})}),Object(g.jsx)("div",{className:"col-sm-12",children:Object(g.jsx)("button",{type:"button",className:"btn btn-outline-secondary btn-lg px-4 mr-3 w-50 h-75 mb-20",onClick:function(){u(!0)},children:"Manage billers"})})]})})]})]})]})},D=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,109)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,r=t.getLCP,s=t.getTTFB;a(e),n(e),c(e),r(e),s(e)}))};s.a.render(Object(g.jsx)(l.a,{children:Object(g.jsx)(c.a.StrictMode,{children:Object(g.jsx)(E,{})})}),document.getElementById("root")),D()},71:function(e,t,a){},73:function(e,t,a){},75:function(e,t,a){}},[[102,1,2]]]);
//# sourceMappingURL=main.8f8805b6.chunk.js.map