(this["webpackJsonpvstore-app"]=this["webpackJsonpvstore-app"]||[]).push([[0],{65:function(e,t,a){},67:function(e,t,a){},69:function(e,t,a){},91:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(20),s=a.n(r),l=(a(65),a(7)),i=a(2),o=a(10),u=a.n(o),b=a(21),j=a(3),d=(a(67),a(68),a(69),a(15)),h=a(25),O=a(14),p=a(56),m=a(97),x=a(22),f=a.n(x),v=a(1);var g,y=function(e){var t,a=e.show,c=e.handle_close,r=e.handle_submit,s=e.is_submitting,l=e.handle_input_change,i=e.get_ben_name,o=e.values,x=Object(n.useState)(Object.assign([])),g=Object(j.a)(x,2),y=(g[0],g[1]),N=Object(n.useState)(!1),C=Object(j.a)(N,2),R=C[0],w=C[1];Object(n.useEffect)((function(){k().then((function(e){e&&e.length>0&&y(e)}))}),[]);var k=function(){var e=Object(b.a)(u.a.mark((function e(){var t,a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={},e.prev=1,e.next=4,f.a.get("http://localhost:9100/vstore/tags",{});case 4:return a=e.sent,n=a.data,e.abrupt("return",n);case 9:e.prev=9,e.t0=e.catch(1),console.log("ERROR OCURRED");case 12:return e.abrupt("return",t);case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){w(!0)}),[o.beneficiaryName]),Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)(d.a,{show:a,onHide:c,backdrop:"static",keyboard:!1,children:[Object(v.jsx)(d.a.Header,{closeButton:!0,children:Object(v.jsx)(d.a.Title,{children:"Make payment"})}),Object(v.jsx)(d.a.Body,{children:Object(v.jsx)(O.a,{children:Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(p.a,{controlId:"amount",label:"Amount",className:"mb-3",children:Object(v.jsx)(O.a.Control,{type:"number",min:0,onChange:l})}),Object(v.jsx)(p.a,{controlId:"narration",label:"Narration",className:"mb-3",children:Object(v.jsx)(O.a.Control,{type:"text",placeholder:"narration",onChange:l})}),Object(v.jsx)(p.a,{controlId:"beneficaryAccountNo",label:"Beneficiary account number",className:"mb-3",children:Object(v.jsx)(O.a.Control,{type:"text",placeholder:"",onChange:i})}),R?Object(v.jsx)(p.a,{controlId:"beneficiaryName",label:"Beneficiary account name",className:"mb-3",children:Object(v.jsx)(O.a.Control,{type:"text",placeholder:"",readOnly:!0,value:null!==(t=o.beneficiaryName)&&void 0!==t?t:""})}):[]]})})}),Object(v.jsxs)(d.a.Footer,{children:[Object(v.jsx)(h.a,{variant:"secondary",onClick:c,children:"Close"}),s?Object(v.jsx)(m.a,{animation:"border",role:"status",children:Object(v.jsx)("span",{className:"visually-hidden",children:"Loading..."})}):Object(v.jsx)(h.a,{variant:"primary",onClick:function(){r(o)},children:"Pay"})]})]})})},N=a(40),C=function(e){return null===e||void 0===e||0===e.length},R=(g="parentMenuName",function(e){var t=e;return C(e)||(t=e.length>0?e.charAt(0).toUpperCase()+e.slice(1):e),t}),w=c.a.forwardRef((function(e,t){var a=e.children,n=e.onClick;return Object(v.jsx)("a",{href:"#",ref:t,onClick:function(e){e.preventDefault(),n(e)},children:a})})),k=c.a.forwardRef((function(e,t){var a=e.children,r=e.style,s=e.className,l=e["aria-labelledby"],i=Object(n.useState)(""),o=Object(j.a)(i,2),u=o[0];o[1];return Object(v.jsx)("div",{ref:t,style:r,className:s,"aria-labelledby":l,children:Object(v.jsx)("ul",{className:"list-unstyled",children:c.a.Children.toArray(a).filter((function(e){return!u||e.props.children.toLowerCase().startsWith(u)}))})})})),S=function(){var e=Object(n.useState)(""),t=Object(j.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)(Object.assign([])),s=Object(j.a)(r,2),l=s[0],i=s[1],o=function(){var e=Object(b.a)(u.a.mark((function e(t){var a,n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(t.target.value),a=[],e.prev=2,e.next=5,f.a.get("http://localhost:9100/vstore".concat("?searchBy=",t.target.value),{});case 5:return n=e.sent,r=n.data,i(r),e.abrupt("return",r);case 11:e.prev=11,e.t0=e.catch(2),console.log("ERROR OCURRED");case 14:return e.abrupt("return",a);case 15:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(t){return e.apply(this,arguments)}}(),d=function(e){console.log("DATAT:::",e)};return Object(v.jsxs)(N.a,{children:[Object(v.jsx)(N.a.Toggle,{as:w,id:"dropdown-custom-components",children:Object(v.jsx)(p.a,{controlId:"searchBy",label:"Search",className:"mb-3",children:Object(v.jsx)(O.a.Control,{type:"text",onChange:o,value:a})})}),Object(v.jsx)(N.a.Menu,{as:k,className:"w-100",children:l&&Array.isArray(l)&&l.map((function(e,t){return Object(v.jsx)(N.a.Item,{eventKey:t,onClick:d,data:e.data,children:Object(v.jsxs)("div",{className:"d-flex",children:[Object(v.jsx)("div",{style:{textAlign:"right"},children:R(e.data.tag.toLowerCase(),0)}),Object(v.jsx)("div",{className:"mx-3",children:"|"}),Object(v.jsx)("div",{children:e.data.narration})]})})}))})]})},_=function(e){var t=e.show,a=e.handle_close,c=e.handle_submit,r=e.is_submitting,s=e.handle_input_change,l=e.values,i=Object(n.useState)(Object.assign([])),o=Object(j.a)(i,2),x=o[0],g=o[1];Object(n.useEffect)((function(){y().then((function(e){e&&e.length>0&&g(e)}))}),[]);var y=function(){var e=Object(b.a)(u.a.mark((function e(){var t,a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={},e.prev=1,e.next=4,f.a.get("http://localhost:9100/vstore/categories",{});case 4:return a=e.sent,n=a.data,e.abrupt("return",n);case 9:e.prev=9,e.t0=e.catch(1),console.log("ERROR OCURRED");case 12:return e.abrupt("return",t);case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}();return Object(v.jsxs)(d.a,{show:t,onHide:a,backdrop:"static",keyboard:!1,children:[Object(v.jsx)(d.a.Header,{closeButton:!0,children:Object(v.jsx)(d.a.Title,{children:"Create biller"})}),Object(v.jsx)(d.a.Body,{children:Object(v.jsx)(O.a,{children:Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(p.a,{controlId:"billerName",label:"Name",className:"mb-3",children:Object(v.jsx)(O.a.Control,{type:"text",placeholder:"billerName",onChange:s})}),Object(v.jsx)(p.a,{controlId:"categoryId",label:"Category",className:"mb-3",children:Object(v.jsxs)(O.a.Select,{"aria-label":"categoryId",onChange:s,children:[Object(v.jsx)("option",{children:"-- Choose option --"}),x&&x.map((function(e,t){return Object(v.jsx)("option",{value:e.name,children:e.name},t)}))]})})]})})}),Object(v.jsxs)(d.a.Footer,{children:[Object(v.jsx)(h.a,{variant:"primary",onClick:a,children:"Close"}),r?Object(v.jsx)(m.a,{animation:"border",role:"status",children:Object(v.jsx)("span",{className:"visually-hidden",children:"Loading..."})}):Object(v.jsx)(h.a,{variant:"secondary",onClick:function(){c(l)},children:"Submit"})]})]})};var I=function(){var e=Object(n.useState)(!1),t=Object(j.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)(!1),s=Object(j.a)(r,2),o=s[0],d=s[1],h=Object(n.useState)(!1),O=Object(j.a)(h,2),p=O[0],m=O[1],x=Object(n.useState)(Object.assign({})),g=Object(j.a)(x,2),N=g[0],C=g[1],R=Object(n.useState)(Object.assign({})),w=Object(j.a)(R,2),k=w[0],I=w[1],E=function(){var e=Object(b.a)(u.a.mark((function e(t){var a,n,r,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m(!0),e.prev=1,m(!1),a=new Date,n=Object.assign({},{tag:"TRANSACTIONS"},{data:Object.assign({},N,{transactionDate:a.toISOString(),transactionId:a.getTime()})}),e.next=7,f.a.post("http://localhost:9100/vstore/store",[n]);case 7:r=e.sent,(s=r.data)&&s.length>0&&(alert("Successful"),c(!1),C({})),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(1),alert("Failed"),console.log("ERROR OCCURRED:::",e.t0);case 16:return e.prev=16,m(!1),e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[1,12,16,19]])})));return function(t){return e.apply(this,arguments)}}(),D=function(){var e=Object(b.a)(u.a.mark((function e(t){var a,n,c,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m(!0),e.prev=1,m(!1),a=new Date,n=Object.assign({},{tag:"BILLERS"},Object.assign({},k,{transactionDate:a.toISOString(),transactionId:a.getTime()})),e.next=7,f.a.post("http://localhost:9100/vstore/biller",[n]);case 7:c=e.sent,(r=c.data)&&r.length>0&&(alert("Successful"),d(!1),I({})),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(1),alert("Failed"),console.log("ERROR OCCURRED:::",e.t0);case 16:return e.prev=16,m(!1),e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[1,12,16,19]])})));return function(t){return e.apply(this,arguments)}}(),A=function(e){C(Object(i.a)(Object(i.a)({},N),{},Object(l.a)({},e.target.id,e.target.value)))},F=function(){var e=Object(b.a)(u.a.mark((function e(t){var a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(A(t),10!==t.target.value.length){e.next=13;break}return e.prev=2,e.next=5,f.a.get("http://localhost:9100/vstore/name-enquiry?accountNo=".concat(t.target.value),{});case 5:a=e.sent,n=a.data,C(Object(i.a)(Object(i.a)({},N),{},{beneficiaryName:n.accountName})),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),console.log("ERROR OCURRED",e.t0);case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}();return Object(v.jsxs)("div",{className:"App",children:[Object(v.jsx)(y,{show:a,handle_close:function(){c(!a)},handle_submit:E,is_submitting:p,handle_input_change:A,get_ben_name:F,values:N}),Object(v.jsx)(_,{show:o,handle_close:function(){d(!o)},handle_submit:D,is_submitting:p,handle_input_change:function(e){I(Object(i.a)(Object(i.a)({},k),{},Object(l.a)({},e.target.id,e.target.value)))},values:k}),Object(v.jsxs)("div",{className:"py-5 my-5 text-center",children:[Object(v.jsx)("h1",{className:"display-5 fw-bold",children:"VStore"}),Object(v.jsxs)("div",{className:"col-lg-6 mx-auto",children:[Object(v.jsx)("p",{className:"lead mb-2",children:"transactions, bills and many more"}),Object(v.jsx)("div",{className:"d-grid gap-2 d-sm-flex justify-content-sm-center",children:Object(v.jsx)("div",{className:"row searchbar-div",children:Object(v.jsx)("div",{className:"col-sm-12",children:Object(v.jsx)(S,{})})})}),Object(v.jsx)("div",{className:"d-grid gap-2 d-sm-flex justify-content-sm-center",children:Object(v.jsxs)("div",{className:"row",children:[Object(v.jsx)("div",{className:"col-sm-12",children:Object(v.jsx)("button",{type:"button",className:"btn btn-secondary btn-lg px-4 mr-3 w-50 h-75 mb-20",onClick:function(){c(!0)},children:"Fund transfer"})}),Object(v.jsx)("div",{className:"col-sm-12",children:Object(v.jsx)("button",{type:"button",className:"btn btn-outline-secondary btn-lg px-4 mr-3 w-50 h-75 mb-20",onClick:function(){d(!0)},children:"Manage billers"})})]})})]})]})]})},E=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,98)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,r=t.getLCP,s=t.getTTFB;a(e),n(e),c(e),r(e),s(e)}))};s.a.render(Object(v.jsx)(c.a.StrictMode,{children:Object(v.jsx)(I,{})}),document.getElementById("root")),E()}},[[91,1,2]]]);
//# sourceMappingURL=main.440fd7b2.chunk.js.map